{"version":3,"sources":["main.js"],"names":["$","canvas","fabric","Canvas","preserveObjectStacking","downloadImg","download","outputInfo","obj","getActiveObject","console","log","top","left","angle","scaleX","scaleY","Image","fromURL","oImg","insertAt","set","cornerSize","padding","transparentCorners","cornerStyle","cornerColor","borderColor","borderSize","text","Text","listener","keypress","Listener","simple_combo","remove"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["// 页面渲染完之后 加载\n$(function(){\n    var canvas = new fabric.Canvas('workSpace',{preserveObjectStacking:true});\n\n    //download按钮\n    downloadImg = function()\n    {\n         //console.log(canvas.toDataURL('png'));\n        download(\"canvas.toDataURL('png')\", \"factory-output.png\", \"image/png\");\n    }\n    \n    // getActiveObject 和 insertAt 方法\n    //  http://fabricjs.com/docs/fabric.Canvas.html\n    \n    //info按钮 \n    outputInfo = function()\n    {\n        var obj = canvas.getActiveObject();\n            console.log(obj);\n        // if(obj.type == 'image')\n        // {\n            console.log(`top = ${obj.top}`);\n            console.log(`left = ${obj.left}`);\n            console.log(`angle = ${obj.angle}`);\n              console.log(`scaleX = ${obj.scaleX}`);\n            console.log(`scaleY = ${obj.scaleY}`);\n        // }\n    }\n  \n  \n    //载入图片\n    fabric.Image.fromURL('moren.jpg', function(oImg) \n        {\n         canvas.insertAt(oImg,0);\n         oImg.set('top',104);\n         oImg.set('left',72);\n         oImg.set('angle',0);\n         oImg.set('scaleX',1);\n         oImg.set('scaleY',1);\n         oImg.set({\n                cornerSize:15,\n                padding:5,\n                transparentCorners:true,//顶角 是否为空心\n                cornerStyle:'circle',\n                cornerColor:'red',\n                borderColor:'red',\n                borderSize:3  });\n         });\n         var text = new fabric.Text('又出bug了？',  {  left: 110, top: 350 });\n         canvas.insertAt(text,2);\n         text.set('top',350);\n         text.set('left',110);\n         text.set('angle',0);\n         text.set('scaleX',1);\n         text.set('scaleY',1);\n         text.set('fill','red');\n         // 修改颜色 http://fabricjs.com/docs/fabric.Object.html#fill\n         text.set({cornerSize:15,\n            padding:5,\n            transparentCorners:true,//顶角 是否为空心\n            cornerStyle:'circle',\n            cornerColor:'red',\n            borderColor:'red',\n            borderSize:3  });\n\n\n            // 监听键盘\n\n            var listener = new keypress.Listener();\n            \n            listener.simple_combo('shift',()=>\n            {\n                var obj = canvas.getActiveObject();\n                if( obj ) {\n                    canvas.remove( obj );                    \n                }\n            })\n});\n\n"]}